# Airline Transportation Database

**Описание**  
Этот проект представляет собой базу данных для управления авиаперевозками. Включает таблицы для хранения информации об авиакомпаниях, рейсах, пассажирах и их бронированиях. Также в проекте представлены запросы для анализа данных, таких как маршруты, пассажиропотоки и доходы.

---

## Структура базы данных
- **Airline_company**: Содержит информацию об авиакомпаниях (ID и название).
- **Trip**: Хранит данные о рейсах, включая тип самолета, города отправления и прибытия, а также время отправления и прибытия.
- **Passenger**: Содержит информацию о пассажирах (ID и имя).
- **Pass_in_trip**: Отражает бронирования пассажиров на рейсах, включая дату рейса, номер места и связь с пассажиром и рейсом.

---

## Запросы
Проект включает несколько SQL-запросов для анализа данных:

1. **`update_trip_date.sql`**  
   Модификация формата даты в таблице `Pass_in_trip`.

2. **`frequent_passengers.sql`**  
   Список пассажиров с количеством перелетов более одного.

3. **`route_analysis.sql`**  
   Анализ маршрутов: средняя продолжительность, количество пассажиров и доход.

4. **`aircraft_comparison.sql`**  
   Сравнение самолетов Boeing и Airbus по средней длительности рейса.

5. **`top_routes.sql`**  
   Топ маршруты по авиакомпаниям на основе средней продолжительности рейса.

6. **`passenger_income.sql`**  
   Классификация пассажиров по доходу, который они приносят.

---

## Как использовать
1. **Создайте базу данных**:  
   Выполните файл `Database.sql`, чтобы создать структуру базы данных и заполнить ее начальными данными.

2. **Выполните запросы**:  
   По очереди запускайте файлы с запросами (например, `frequent_passengers.sql`) для анализа данных.

---

## Пример использования
### Список пассажиров с количеством перелетов более одного
Запрос из файла `frequent_passengers.sql`:
```sql
SELECT 
    p.passenger_name, 
    COUNT(t.trip_no) AS num_flights,
    ac.company_name
FROM passenger AS p
INNER JOIN pass_in_trip AS pit
    ON p.id_psg = pit.id_psg
INNER JOIN trip AS t
    ON t.trip_no = pit.trip_no
INNER JOIN airline_company AS ac 
    ON ac.id_comp = t.id_comp
GROUP BY 
    p.passenger_name, ac.company_name
HAVING 
    num_flights > 1;
```
**Результат**:
```
+----------------+-------------+-------------------+
| passenger_name | num_flights | company_name      |
+----------------+-------------+-------------------+
| John Smith     | 3           | Delta Airlines    |
| Mary Johnson   | 2           | American Airlines |
+----------------+-------------+-------------------+
```

---

## Навыки
Этот проект демонстрирует следующие навыки:
- Создание структурированных баз данных.
- Использование `FOREIGN KEY` и обеспечения ссылочной целостности.
- Написание сложных SQL-запросов с использованием `JOIN`, `WITH`, оконных функций и подзапросов.
- Анализ данных и их визуализация через запросы.

---

**Автор:** [gs0xa19f2](https://github.com/gs0xa19f2)
